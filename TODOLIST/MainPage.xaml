<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TODOLIST.MainPage"
             BackgroundColor="#1e1e1e">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            <!-- Inmatningsfält -->
            <VerticalStackLayout Spacing="10">
                <Entry x:Name="AddListItem" Placeholder="Skriv något att göra..." BackgroundColor="#2e2e2e" TextColor="White" PlaceholderColor="Gray"/>

                <HorizontalStackLayout Spacing="5">
                    <Picker x:Name="VäljÅr" Title="År" WidthRequest="100" BackgroundColor="#2e2e2e" TextColor="White"/>
                    <Picker x:Name="VäljMånad" Title="Månad" WidthRequest="100" BackgroundColor="#2e2e2e" TextColor="White"/>
                    <Picker x:Name="VäljDag" Title="Dag" WidthRequest="100" BackgroundColor="#2e2e2e" TextColor="White"/>
                </HorizontalStackLayout>

                <Button Text="Lägg till" Clicked="OnButtonClicked" BackgroundColor="#007ACC" TextColor="White"/>
            </VerticalStackLayout>

            <!-- Lista -->
            <CollectionView ItemsSource="{Binding TodoList}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <SwipeView>
                            <SwipeView.RightItems>
                                <SwipeItems Mode="Execute">
                                    <SwipeItem Text="Ta bort" BackgroundColor="Red" Invoked="OnDeleteSwipe"/>
                                </SwipeItems>
                            </SwipeView.RightItems>

                            <Grid Padding="10" BackgroundColor="#2e2e2e" Margin="0,5">
                                <HorizontalStackLayout Spacing="10">
                                    <CheckBox IsChecked="{Binding IsDone}" />
                                    <VerticalStackLayout Spacing="2">
                                        <Label Text="{Binding Text}" FontAttributes="Bold" TextColor="White" FontSize="14"/>
                                        <Label Text="{Binding DeadlineText}" FontSize="11" TextColor="Gray"/>
                                        <Button Text="{Binding DescriptionButtonText}" Clicked="OnDescriptionClicked"
                                         BackgroundColor="Transparent" TextColor="LightGray" FontSize="11" Padding="0,2"/>
                                    </VerticalStackLayout>

                                </HorizontalStackLayout>
                            </Grid>
                        </SwipeView>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
